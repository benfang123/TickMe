(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-542b9bde"],{"2bc4":function(t,i,s){},"3d60":function(t,i,s){"use strict";s("2bc4")},4103:function(t,i,s){},"6dbe":function(t,i,s){"use strict";s("8a38")},7277:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"dashboard"},[s("div",{staticClass:"dashboard-title"},[s("h2",[t._v("数据统计（前七日）")]),t.isSampleMode?s("div",{staticClass:"warning",class:{close:!t.warningIsSHow}},[s("svg-icon",{attrs:{"icon-class":"icon-warning"}}),s("p",{staticClass:"warning-info"},[t._v(" 当前展示的是示例数据，您的数据统计将在您使用一段时间后生成。 ")]),s("div",{staticClass:"close",on:{click:function(i){t.warningIsSHow=!1}}},[s("svg-icon",{attrs:{"icon-class":"icon-close"}})],1)],1):t._e()]),s("todo-chart",{ref:"chart"}),s("analysis-model"),s("data-report")],1)},o=[],a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"todo-chart"},[s("div",{staticClass:"title"},[s("p",[t._v("共设置")]),s("span",[t._v(t._s(t.isSampleMode?28:t.todoTotal))]),s("p",[t._v("项待办，共完成")]),s("span",[t._v(t._s(t.isSampleMode?23:t.todoTotalCompleted))]),s("p",[t._v("项")])]),s("div",{staticClass:"svg-box",style:t.svgBoxWidth},[s("svg",{staticClass:"svg",attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:t.viewBox,width:t.viewWidth,height:"440px"}},[s("defs",[s("linearGradient",{attrs:{id:"l1",x1:"0%",y1:"0%",x2:"0",y2:"100%"}},[s("stop",{attrs:{offset:"0%",id:"stop1"}}),s("stop",{attrs:{offset:"100%",id:"stop2"}})],1),s("filter",{attrs:{id:"blur"}},[s("feGaussianBlur",{attrs:{in:"SourceGraphic",stdDeviation:"8"}})],1)],1),s("path",{staticStyle:{fill:"url(#l1)"},attrs:{d:t.path}}),s("path",{attrs:{id:"border",d:t.path}}),t._l(t.points,(function(i){return s("g",{directives:[{name:"show",rawName:"v-show",value:t.visiblePoint==i,expression:"visiblePoint == p"}],key:i},[s("circle",{attrs:{id:"shadow",cx:t.pX[i],cy:t.pY[i],r:"14"}}),s("circle",{staticStyle:{fill:"rgba(255, 255, 255, 0.83)"},attrs:{cx:t.pX[i],cy:t.pY[i],r:"14"}}),s("circle",{attrs:{id:"m-circle",cx:t.pX[i],cy:t.pY[i],r:"7"}})])}))],2)]),s("div",{staticClass:"date",style:t.svgBoxWidth},t._l(t.date,(function(i,e){return s("p",{key:e},[t._v(t._s(i))])})),0),s("div",{staticClass:"hover",style:t.svgBoxWidth},t._l(t.hoverBox,(function(i){return s("div",{key:i.id,staticClass:"hover-li",on:{mouseover:function(s){return t.setVisible(i.id)},mouseleave:function(i){return t.clearVisible()}}})})),0)])},n=[],r=s("6b75");function c(t){if(Array.isArray(t))return Object(r["a"])(t)}s("a4d3"),s("e01a"),s("d3b7"),s("d28b"),s("3ca3"),s("ddb0"),s("a630");function l(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var h=s("06c5");function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return c(t)||l(t)||Object(h["a"])(t)||d()}s("99af"),s("a434"),s("d81d"),s("4de4");var p={data:function(){return{today:{year:this.dayjs().year(),month:this.dayjs().month(),day:this.dayjs().date()},todoNumber:[0,0,0,0,0,0,0,0,0],todoNumberCompleted:[0,0,0,0,0,0,0,0,0]}},computed:{isSampleMode:function(){return this.todoNumberCompleted[6]<1&&this.todoNumberCompleted[7]<1},todoListsAll:function(){return this.$store.state.todoListsAll},clockInAll:function(){return this.$store.state.clockInAll},pastSevenDays:function(){for(var t=[],i=this.dayjs(this.today).valueOf(),s=0;s<9;s++)t[s]=i-864e5*(8-s);return t},todoTotal:function(){var t=0;return this.todoNumber.map((function(i){return t+=i})),t},todoTotalCompleted:function(){var t=0;return this.todoNumberCompleted.map((function(i){return t+=i})),t}},methods:{removePastDaysTimestamp:function(){this.$store.commit("removePastDaysTimestamp",this.dayjs(this.today).valueOf()-6912e5)}},mounted:function(){for(var t=this,i=function(i){var s=t.todoListsAll.filter((function(s){return s.timestamp==t.pastSevenDays[i]}));t.todoNumber.splice(i,0,s.length);var e=s.filter((function(t){return t.isComplete}));t.todoNumberCompleted.splice(i,0,e.length)},s=0;s<9;s++)i(s)}},v=p,m={mixins:[v],name:"TodoChart",data:function(){return{screenWidth:document.body.clientWidth,xCoordParm:1,pX:[0,0,0,0,0,0,0,0,0],pY:[0,0,0,0,0,0,0,0,0],visiblePoint:"0"}},computed:{date:function(){for(var t=[],i=7;i>0;i--)t.push(this.dayjs().month()+1+"/"+(this.dayjs().date()-i));return t},points:function(){for(var t=[],i=1;i<=7;i++)t.push(i);return t},hoverBox:function(){for(var t=[],i=0;i<7;i++)t[i]={},t[i].id=i;return t},visibleData:function(){return this.isSampleMode?[2,1,4,3,6,2,3,2,0]:this.todoNumberCompleted},rowHeight:function(){var t=Math.max.apply(Math,u(this.visibleData));return parseInt(328/t)},viewBox:function(){return"0 -440 ".concat(this.viewWidth," 440")},viewWidth:function(){return 736*this.xCoordParm},svgBoxWidth:function(){return{width:644*this.xCoordParm/16+"rem"}},path:function(){return"M ".concat(this.pX[0]," ").concat(this.pY[0],"\n          C ").concat(this.pX[0]+50," ").concat(this.pY[0],", ").concat(this.pX[1]-50," ").concat(this.pY[1],", ").concat(this.pX[1]," ").concat(this.pY[1],"\n          S ").concat(this.pX[1]+50," ").concat(this.pY[2],", ").concat(this.pX[2]," ").concat(this.pY[2],"\n          S ").concat(this.pX[2]+50," ").concat(this.pY[3],", ").concat(this.pX[3]," ").concat(this.pY[3],"\n          S ").concat(this.pX[3]+50," ").concat(this.pY[4],", ").concat(this.pX[4]," ").concat(this.pY[4],"\n          S ").concat(this.pX[4]+50," ").concat(this.pY[5],", ").concat(this.pX[5]," ").concat(this.pY[5],"\n          S ").concat(this.pX[5]+50," ").concat(this.pY[6],", ").concat(this.pX[6]," ").concat(this.pY[6],"\n          S ").concat(this.pX[6]+50," ").concat(this.pY[7],", ").concat(this.pX[7]," ").concat(this.pY[7],"\n          S ").concat(this.pX[7]+50," ").concat(this.pY[8],", ").concat(this.pX[8]," ").concat(this.pY[8])}},methods:{setVisible:function(t){this.visiblePoint=t+1},clearVisible:function(){this.visiblePoint=0}},watch:{screenWidth:{immediate:!0,handler:function(t){if(t<1152){this.xCoordParm=1;for(var i=0;i<9;i++)this.pX.splice(i,1,92*this.xCoordParm*i)}else if(t>=1152&&t<1280){this.xCoordParm=1.15;for(var s=0;s<9;s++)this.pX.splice(s,1,92*this.xCoordParm*s)}else if(t>=1280){this.xCoordParm=1.3;for(var e=0;e<9;e++)this.pX.splice(e,1,92*this.xCoordParm*e)}}}},mounted:function(){for(var t=0;t<9;t++)this.pX.splice(t,0,parseInt(92*this.xCoordParm*t*100)/100),this.pY.splice(t,0,-1*(98+this.rowHeight*this.visibleData[t]));var i=this;window.addEventListener("resize",(function(){return function(){window.screenWidth=document.body.clientWidth,i.screenWidth=window.screenWidth}()}))}},f=m,b=(s("87bc"),s("2877")),x=Object(b["a"])(f,a,n,!1,null,"a0e039d8",null),w=x.exports,y=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"analysis-model"},[s("h6",[t._v("时间掌控程度评估")]),s("div",{staticClass:"anonymous"},[s("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 266 266",x:"0px",y:"0px"}},[s("path",{attrs:{d:"M 133 0 L 19 199 L 246 199 Z"}}),s("path",{attrs:{d:"M 133 22 L 38 188 L 227 188 Z"}}),s("path",{attrs:{d:"M 133 44 L 57 177 L 209 177 Z"}}),s("path",{attrs:{d:"M 133 66 L 76 166 L 190 166 Z"}}),s("path",{attrs:{d:"M 133 88 L 95 155 L 171 155 Z"}}),s("path",{attrs:{d:"M 133 110 L 114 144 L 152 144 Z"}}),s("path",{attrs:{id:"hlight",d:t.path}})]),s("span",[t._v("勤奋")]),s("span",[t._v("一般")]),s("span",[t._v("懒惰")])]),s("p",{staticClass:"text"},[s("span",{staticClass:"i"},[t._v(t._s(t.levelPercentage+"%"))]),t._v("的时间你在 "+t._s(t.visibleText)+" 中度过"),s("br"),t._v("加油，我们在山顶见 ")])])},C=[],g=s("b85c"),_={mixins:[v],name:"AnalysisModel",data:function(){return{topY:["133","110","88","66","44","22","0"],bottomLeftX:["133","114","95","76","57","38","19"],bottomRigthX:["133","152","171","190","209","227","246"],bottomY:["133","144","155","166","177","188","199"],ratio:[],visibleL3Y:0,visibleL2X:0,visibleL2Y:0,visibleL1X:0,visibleL1Y:0}},computed:{level3:function(){return this.ratio.filter((function(t){return t>=.8})).length},level2:function(){return this.ratio.filter((function(t){return t>=.5&&t<.8})).length},level1:function(){return this.ratio.filter((function(t){return t<.5})).length},max:function(){var t=[this.level3,this.level2,this.level1];return Math.max.apply(Math,t)},levelPercentage:function(){return this.isSampleMode?57:parseInt(this.max/this.ratio.length*100)},visibleText:function(){var t,i="",s=0,e=Object(g["a"])(this.ratio);try{for(e.s();!(t=e.n()).done;){var o=t.value;s+=o}}catch(n){e.e(n)}finally{e.f()}var a=s/this.ratio.length;return this.isSampleMode?i="一般":a<.5?i="懒惰":a>=.5&&this.max<.8?i="一般":a>=.8&&(i="勤奋"),i},path:function(){return"M 133 ".concat(this.visibleL3Y," L ").concat(this.visibleL2X," ").concat(this.visibleL2Y," L ").concat(this.visibleL1X," ").concat(this.visibleL1Y," Z")}},mounted:function(){for(var t=1;t<=7;t++)if(0!==this.todoNumber[t]){var i=Math.floor(this.todoNumberCompleted[t]/this.todoNumber[t]*100)/100;this.ratio.splice(t-1,0,i)}else this.ratio.splice(t-1,0,0);this.visibleL3Y=this.isSampleMode?"88":this.topY[this.level3],this.visibleL2X=this.isSampleMode?"76":this.bottomLeftX[this.level2],this.visibleL2Y=this.isSampleMode?"166":this.bottomY[this.level2],this.visibleL1X=this.isSampleMode?"171":this.bottomRigthX[this.level1],this.visibleL1Y=this.isSampleMode?"155":this.bottomY[this.level1],this.removePastDaysTimestamp()}},Y=_,X=(s("3d60"),Object(b["a"])(Y,y,C,!1,null,"37f6f84a",null)),L=X.exports,S=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"data-report"},t._l(t.visibleInfo,(function(i,e){return s("div",{key:e,staticClass:"box"},[s("div",{staticClass:"top"},[s("span",{staticClass:"number"},[t._v(t._s(i.data))]),s("span",{staticClass:"unit"},[t._v(t._s(1==e||4==e?"%":5==e?"":"项"))])]),s("p",{staticClass:"label"},[t._v(t._s(i.text))])])})),0)},M=[],P={mixins:[v],name:"DataReport",data:function(){return{}},computed:{visibleInfo:function(){return[{text:"昨日完成待办",data:this.isSampleMode?2:this.todoNumberCompleted[7]||0},{text:"昨日完成率",data:this.isSampleMode?50:parseInt(this.todoNumberCompleted[7]/this.todoNumber[7]*100)},{text:"星标待办",data:this.isSampleMode?3:0},{text:"本周期完成待办",data:this.isSampleMode?23:this.todoTotalCompleted},{text:"本周期完成率",data:this.isSampleMode?82:parseInt(this.todoTotalCompleted/this.todoTotal*100)},{text:"",data:null}]}}},N=P,j=(s("cf61"),Object(b["a"])(N,S,M,!1,null,"21725187",null)),T=j.exports,k={mixins:[v],name:"Dashboard",components:{TodoChart:w,AnalysisModel:L,DataReport:T},data:function(){return{warningIsSHow:!0}}},I=k,W=(s("6dbe"),Object(b["a"])(I,e,o,!1,null,"6a0aa0d2",null));i["default"]=W.exports},"87bc":function(t,i,s){"use strict";s("aebb")},"8a38":function(t,i,s){},aebb:function(t,i,s){},cf61:function(t,i,s){"use strict";s("4103")}}]);